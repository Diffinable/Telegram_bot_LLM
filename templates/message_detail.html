{% extends "base.html" %}

{% block content %}
<div class="card mb-4">
    <div class="card-header">
        Сообщение #{{ message.id }}
    </div>
    <div class="card-body">
        <p><strong>Чат ID:</strong> {{ message.chat_id }}</p>
        <p><strong>Пользователь:</strong> {{ message.user_id }}</p>
        <div class="mb-3">
            <label class="form-label"><strong>Текст сообщения:</strong></label>
            <textarea class="form-control" rows="3" readonly>{{ message.text }}</textarea>
        </div>
    </div>
</div>

<form method="post" action="/message/{{ message.id }}/action">
    <div class="mb-3">
        <label class="form-label"><strong>Ответ LLM:</strong></label>
        <textarea class="form-control" name="response_text" rows="5">{{ llm_response }}</textarea>
    </div>
    
    <div class="btn-group">
        <button type="submit" name="action" value="approve" class="btn btn-success">
            Одобрить и отправить
        </button>
        <button type="submit" name="action" value="regenerate" class="btn btn-warning">
            Перегенерировать
        </button>
    </div>
</form>
{% endblock %}